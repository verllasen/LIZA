<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Медицинская карта стоматологического пациента</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="form-header">
            <div class="ministry-info">
                <h1>Министерство здравоохранения Российской Федерации</h1>
                <h2>Государственное бюджетное учреждение здравоохранения Республики Адыгея «Адыгейская республиканская клиническая стоматологическая поликлиника»</h2>
            </div>
            <div class="form-codes">
                <div class="code-group">
                    <label>Код формы по ОКУД:</label>
                    <input type="text" class="code-input">
                </div>
                <div class="code-group">
                    <label>Код организации по ОКПО:</label>
                    <input type="text" class="code-input">
                </div>
            </div>
        </header>

        <div class="address-block">
            <strong>Адрес:</strong> Республика Адыгея, г. Майкоп, ул. Горького, д.177
            <div class="ogrn">
                <strong>ОГРН:</strong>
                <div class="ogrn-boxes">
                    <input type="text" maxlength="1" value="1">
                    <input type="text" maxlength="1" value="0">
                    <input type="text" maxlength="1" value="2">
                    <input type="text" maxlength="1" value="0">
                    <input type="text" maxlength="1" value="1">
                    <input type="text" maxlength="1" value="0">
                    <input type="text" maxlength="1" value="0">
                    <input type="text" maxlength="1" value="6">
                    <input type="text" maxlength="1" value="9">
                    <input type="text" maxlength="1" value="6">
                    <input type="text" maxlength="1" value="2">
                    <input type="text" maxlength="1" value="5">
                    <input type="text" maxlength="1" value="2">
                </div>
            </div>
        </div>

        <div class="doc-info">
            <p>Медицинская документация</p>
            <p>Учётная форма № 043-у</p>
            <p>Утв. Минздравом СССР 04.10.80г. №1030</p>
        </div>

        <h2 class="form-title">Медицинская карта стоматологического пациента</h2>

        <form id="patientForm" class="patient-form">
            <div class="form-row">
                <label>№:</label>
                <input type="text" class="short-input">
                <label>Дата заполнения:</label>
                <input type="date" class="date-input">
            </div>

            <div class="form-row">
                <label>Ф.И.О:</label>
                <input type="text" class="full-width">
                <div class="gender-group">
                    <label>Пол:</label>
                    <div class="radio-group">
                        <input type="radio" name="gender" id="male" value="M">
                        <label for="male">М</label>
                        <input type="radio" name="gender" id="female" value="Ж">
                        <label for="female">Ж</label>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <label>Дата рождения:</label>
                <input type="date" class="date-input">
            </div>

            <div class="form-row">
                <label>СНИЛС:</label>
                <input type="text" class="full-width" pattern="\d{3}-\d{3}-\d{3} \d{2}" placeholder="XXX-XXX-XXX XX">
            </div>

            <div class="form-row">
                <label>Паспорт:</label>
                <input type="text" placeholder="Серия" class="passport-series">
                <input type="text" placeholder="Номер" class="passport-number">
            </div>

            <div class="form-row address-input">
                <label>Адрес:</label>
                <input type="text" placeholder="Населённый пункт" class="locality">
                <input type="text" placeholder="Улица" class="street">
                <input type="text" placeholder="Дом" class="house">
                <input type="text" placeholder="Корп." class="building">
                <input type="text" placeholder="Кв." class="apartment">
            </div>

            <div class="form-row">
                <label>Телефон:</label>
                <input type="tel" class="full-width" pattern="\+7\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}" placeholder="+7 (XXX) XXX-XX-XX">
            </div>

            <div class="form-row">
                <label>Профессия:</label>
                <input type="text" class="full-width">
            </div>

            <!-- Добавляем кнопку и модальное окно для диагноза -->
            <div class="form-row">
                <button type="button" class="diagnosis-btn" onclick="openDiagnosisModal()">Добавить диагноз</button>
            </div>

            <!-- Модальное окно для диагноза -->
            <div id="diagnosisModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeDiagnosisModal()">&times;</span>
                    <h3>Добавление диагноза</h3>
                    <div class="diagnosis-form">
                        <!-- Добавляем новые поля в начало формы -->
                        <div class="form-group">
                            <label>Диагноз:</label>
                            <input type="text" class="full-width diagnosis-input" id="mainDiagnosis">
                        </div>

                        <div class="form-group">
                            <label>Жалобы:</label>
                            <div class="checkbox-group">
                                <input type="radio" id="noComplaints" name="complaints" checked>
                                <label for="noComplaints">нет</label>
                                <input type="text" class="complaint-text" id="complaintText" placeholder="врач может вбить самостоятельно" disabled>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Анамнез заболевания:</label>
                            <div class="anamnesis-section">
                                <div class="form-subgroup">
                                    <label>Жалобы появились впервые:</label>
                                    <input type="text" value="2-5 дней назад" class="medium-input">
                                </div>

                                <div class="form-subgroup">
                                    <label>Ранее зуб:</label>
                                    <div class="radio-group vertical">
                                        <div>
                                            <input type="radio" id="treatedTooth" name="toothHistory">
                                            <label for="treatedTooth">лечился по поводу:</label>
                                            <select class="treatment-reason">
                                                <option>кариеса или его осложнения</option>
                                                <option>острой или хронической травмы зуба</option>
                                            </select>
                                        </div>
                                        <div>
                                            <input type="radio" id="notTreated" name="toothHistory">
                                            <label for="notTreated">не лечился</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>Аллергологический анамнез:</label>
                                    <div class="radio-group">
                                        <input type="radio" id="noAllergy" name="allergy" checked>
                                        <label for="noAllergy">не отягощен</label>
                                        <input type="radio" id="hasAllergy" name="allergy">
                                        <label for="hasAllergy">отягощен</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Сопутствующие заболевания:</label>
                            <div class="diseases-group">
                                <div class="checkbox-group vertical">
                                    <div>
                                        <input type="checkbox" id="noDiseases" name="diseases">
                                        <label for="noDiseases">нет</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="tuberculosis" name="diseases">
                                        <label for="tuberculosis">туберкулез</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="diabetes" name="diseases">
                                        <label for="diabetes">сахарный диабет</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="hepatitisB" name="diseases">
                                        <label for="hepatitisB">гепатит B</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="hepatitisC" name="diseases">
                                        <label for="hepatitisC">гепатит C</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="hiv" name="diseases">
                                        <label for="hiv">ВИЧ</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="cancer" name="diseases">
                                        <label for="cancer">злокачественные новообразования</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="mentalDisorders" name="diseases">
                                        <label for="mentalDisorders">психические расстройства</label>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="highBloodPressure" name="diseases">
                                        <label for="highBloodPressure">болезни, характеризующиеся повышенным кровяным давлением</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Конфигурация лица:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="noPathology" name="faceConfig">
                                <label for="noPathology">без патологических изменений</label>
                                <input type="checkbox" id="symmetric" name="faceConfig">
                                <label for="symmetric">симметрично</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Лимфатические узлы:</label>
                            <div class="lymph-nodes">
                                <div class="node-group">
                                    <h4>Шейные</h4>
                                    <div class="radio-group">
                                        <input type="radio" name="neck" id="neckNormal" checked>
                                        <label for="neckNormal">не увеличены</label>
                                        <input type="radio" name="neck" id="neckEnlarged">
                                        <label for="neckEnlarged">увеличены</label>
                                    </div>
                                    <div class="node-properties" id="neckProperties" style="display: none;">
                                        <input type="checkbox" id="neckPainful">
                                        <label for="neckPainful">болезненны</label>
                                        <input type="checkbox" id="neckPainless">
                                        <label for="neckPainless">безболезненны</label>
                                        <input type="checkbox" id="neckTissue">
                                        <label for="neckTissue">спаянны с окружающими тканями</label>
                                        <input type="checkbox" id="neckMobile">
                                        <label for="neckMobile">подвижны</label>
                                    </div>
                                </div>

                                <!-- Аналогично для других групп узлов -->
                                <div class="node-group">
                                    <h4>Подчелюстные</h4>
                                    <div class="radio-group">
                                        <input type="radio" name="submandibular" id="submandibularNormal" checked>
                                        <label for="submandibularNormal">не увеличены</label>
                                        <input type="radio" name="submandibular" id="submandibularEnlarged">
                                        <label for="submandibularEnlarged">увеличены</label>
                                    </div>
                                    <div class="node-properties" id="submandibularProperties" style="display: none;">
                                        <input type="checkbox" id="submandibularPainful">
                                        <label for="submandibularPainful">болезненны</label>
                                        <input type="checkbox" id="submandibularPainless">
                                        <label for="submandibularPainless">безболезненны</label>
                                        <input type="checkbox" id="submandibularTissue">
                                        <label for="submandibularTissue">спаянны с окружающими тканями</label>
                                        <input type="checkbox" id="submandibularMobile">
                                        <label for="submandibularMobile">подвижны</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Кожный покров:</label>
                            <div class="checkbox-group">
                                <input type="checkbox" id="skinNormal" name="skinCondition">
                                <label for="skinNormal">без патологических изменений, в норме</label>
                                <input type="checkbox" id="skinPathological" name="skinCondition">
                                <label for="skinPathological">с патологическими изменениями</label>
                            </div>
                        </div>

                        <!-- Добавляем секцию ВНЧС -->
                        <div class="form-group">
                            <label>ВНЧС:</label>
                            <div class="tmj-section">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="tmjNormal" name="tmjCondition">
                                    <label for="tmjNormal">без патологических изменений, в норме</label>
                                    <input type="checkbox" id="tmjPathological" name="tmjCondition">
                                    <label for="tmjPathological">с патологическими изменениями</label>
                                </div>

                                <div class="tmj-examination">
                                    <h4>1. Болезненность при пальпации ВНЧС:</h4>
                                    <div class="tmj-table">
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="rightPainYes" name="rightPain">
                                                <label for="rightPainYes">да</label>
                                                <input type="radio" id="rightPainNo" name="rightPain">
                                                <label for="rightPainNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="leftPainYes" name="leftPain">
                                                <label for="leftPainYes">да</label>
                                                <input type="radio" id="leftPainNo" name="leftPain">
                                                <label for="leftPainNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа и слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="bothPainYes" name="bothPain">
                                                <label for="bothPainYes">да</label>
                                                <input type="radio" id="bothPainNo" name="bothPain">
                                                <label for="bothPainNo">нет</label>
                                            </div>
                                        </div>
                                    </div>

                                    <h4>2. Щёлканье в области ВНЧС при открывании рта:</h4>
                                    <div class="tmj-table">
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="rightClickYes" name="rightClick">
                                                <label for="rightClickYes">да</label>
                                                <input type="radio" id="rightClickNo" name="rightClick">
                                                <label for="rightClickNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="leftClickYes" name="leftClick">
                                                <label for="leftClickYes">да</label>
                                                <input type="radio" id="leftClickNo" name="leftClick">
                                                <label for="leftClickNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа и слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="bothClickYes" name="bothClick">
                                                <label for="bothClickYes">да</label>
                                                <input type="radio" id="bothClickNo" name="bothClick">
                                                <label for="bothClickNo">нет</label>
                                            </div>
                                        </div>
                                    </div>

                                    <h4>3. Хруст в области ВНЧС при открывании рта:</h4>
                                    <div class="tmj-table">
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="rightCrunchYes" name="rightCrunch">
                                                <label for="rightCrunchYes">да</label>
                                                <input type="radio" id="rightCrunchNo" name="rightCrunch">
                                                <label for="rightCrunchNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="leftCrunchYes" name="leftCrunch">
                                                <label for="leftCrunchYes">да</label>
                                                <input type="radio" id="leftCrunchNo" name="leftCrunch">
                                                <label for="leftCrunchNo">нет</label>
                                            </div>
                                        </div>
                                        <div class="tmj-row">
                                            <span class="tmj-cell">справа и слева</span>
                                            <div class="tmj-cell">
                                                <input type="radio" id="bothCrunchYes" name="bothCrunch">
                                                <label for="bothCrunchYes">да</label>
                                                <input type="radio" id="bothCrunchNo" name="bothCrunch">
                                                <label for="bothCrunchNo">нет</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Траектория открывания рта -->
                        <div class="form-group">
                            <label>4. Траектория открывания рта:</label>
                            <div class="radio-group">
                                <input type="radio" id="trajectoryChanged" name="trajectory">
                                <label for="trajectoryChanged">изменена</label>
                                <input type="radio" id="trajectoryNormal" name="trajectory">
                                <label for="trajectoryNormal">не изменена</label>
                            </div>
                        </div>

                        <!-- Пальпация жевательных мышц -->
                        <div class="form-group">
                            <label>5. Пальпация жевательных мышц:</label>
                            <div class="muscle-palpation">
                                <div class="palpation-table">
                                    <div class="palpation-row header">
                                        <div class="palpation-cell"></div>
                                        <div class="palpation-cell">безболезненна</div>
                                        <div class="palpation-cell">слабоболезненна</div>
                                        <div class="palpation-cell">болезненна</div>
                                    </div>
                                    <div class="palpation-row">
                                        <div class="palpation-cell">справа</div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightMuscle" id="rightPainless">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightMuscle" id="rightMildPain">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightMuscle" id="rightPainful">
                                        </div>
                                    </div>
                                    <div class="palpation-row">
                                        <div class="palpation-cell">слева</div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftMuscle" id="leftPainless">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftMuscle" id="leftMildPain">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftMuscle" id="leftPainful">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Пальпация височных мышц -->
                        <div class="form-group">
                            <label>6. Пальпация височных мышц:</label>
                            <div class="muscle-palpation">
                                <div class="palpation-table">
                                    <div class="palpation-row header">
                                        <div class="palpation-cell"></div>
                                        <div class="palpation-cell">безболезненна</div>
                                        <div class="palpation-cell">слабоболезненна</div>
                                        <div class="palpation-cell">болезненна</div>
                                    </div>
                                    <div class="palpation-row">
                                        <div class="palpation-cell">справа</div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightTemporal" id="rightTemporalPainless">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightTemporal" id="rightTemporalMildPain">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="rightTemporal" id="rightTemporalPainful">
                                        </div>
                                    </div>
                                    <div class="palpation-row">
                                        <div class="palpation-cell">слева</div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftTemporal" id="leftTemporalPainless">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftTemporal" id="leftTemporalMildPain">
                                        </div>
                                        <div class="palpation-cell">
                                            <input type="radio" name="leftTemporal" id="leftTemporalPainful">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Состояние полости рта -->
                        <div class="form-group">
                            <label>6. Состояние полости рта:</label>
                            <div class="oral-cavity">
                                <div class="form-subgroup">
                                    <label>6.1 Состояние слизистой оболочки полости рта, десен альвеолярных отростков и нёба:</label>
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="mucosaNormal" name="mucosaCondition">
                                        <label for="mucosaNormal">без патологических изменений, нормально увлажнена, бледно – розового цвета</label>
                                    </div>
                                    <input type="text" class="full-width" id="mucosaOther" placeholder="врач может вбить самостоятельно">
                                </div>

                                <div class="form-subgroup">
                                    <label>6.2 Зубная формула:</label>
                                    <div class="dental-formula">
                                        <!-- Здесь будет интерактивная зубная формула -->
                                        <div class="dental-chart">
                                            <!-- Верхний ряд зубов -->
                                            <div class="teeth-row upper">
                                                <div class="tooth" data-tooth="18">18</div>
                                                <div class="tooth" data-tooth="17">17</div>
                                                <div class="tooth" data-tooth="16">16</div>
                                                <div class="tooth" data-tooth="15">15</div>
                                                <div class="tooth" data-tooth="14">14</div>
                                                <div class="tooth" data-tooth="13">13</div>
                                                <div class="tooth" data-tooth="12">12</div>
                                                <div class="tooth" data-tooth="11">11</div>
                                                <div class="tooth" data-tooth="21">21</div>
                                                <div class="tooth" data-tooth="22">22</div>
                                                <div class="tooth" data-tooth="23">23</div>
                                                <div class="tooth" data-tooth="24">24</div>
                                                <div class="tooth" data-tooth="25">25</div>
                                                <div class="tooth" data-tooth="26">26</div>
                                                <div class="tooth" data-tooth="27">27</div>
                                                <div class="tooth" data-tooth="28">28</div>
                                            </div>
                                            <!-- Нижний ряд зубов -->
                                            <div class="teeth-row lower">
                                                <div class="tooth" data-tooth="48">48</div>
                                                <div class="tooth" data-tooth="47">47</div>
                                                <div class="tooth" data-tooth="46">46</div>
                                                <div class="tooth" data-tooth="45">45</div>
                                                <div class="tooth" data-tooth="44">44</div>
                                                <div class="tooth" data-tooth="43">43</div>
                                                <div class="tooth" data-tooth="42">42</div>
                                                <div class="tooth" data-tooth="41">41</div>
                                                <div class="tooth" data-tooth="31">31</div>
                                                <div class="tooth" data-tooth="32">32</div>
                                                <div class="tooth" data-tooth="33">33</div>
                                                <div class="tooth" data-tooth="34">34</div>
                                                <div class="tooth" data-tooth="35">35</div>
                                                <div class="tooth" data-tooth="36">36</div>
                                                <div class="tooth" data-tooth="37">37</div>
                                                <div class="tooth" data-tooth="38">38</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.3 Прикус:</label>
                                    <div class="checkbox-group vertical">
                                        <div>
                                            <input type="checkbox" id="orthognathic" name="bite">
                                            <label for="orthognathic">ортогнатический</label>
                                        </div>
                                        <div>
                                            <input type="checkbox" id="straight" name="bite">
                                            <label for="straight">прямой</label>
                                        </div>
                                        <div>
                                            <input type="checkbox" id="deep" name="bite">
                                            <label for="deep">глубокий</label>
                                        </div>
                                        <div>
                                            <input type="checkbox" id="open" name="bite">
                                            <label for="open">открытый</label>
                                        </div>
                                        <div>
                                            <input type="checkbox" id="crossbite" name="bite">
                                            <label for="crossbite">перекрестный</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.4 Термодиагностика зуба:</label>
                                    <div class="tooth-diagnostics">
                                        <input type="text" value="A02.07.005" readonly class="code-input">
                                        <div class="radio-group">
                                            <input type="radio" id="thermoNegative" name="thermoDiagnostics">
                                            <label for="thermoNegative">отрицательна</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.5 Перкуссия зуба:</label>
                                    <div class="tooth-diagnostics">
                                        <input type="text" value="A02.07.007" readonly class="code-input">
                                        <div class="radio-group">
                                            <input type="radio" id="percussionPositive" name="percussion">
                                            <label for="percussionPositive">положительна</label>
                                            <input type="radio" id="percussionNegative" name="percussion">
                                            <label for="percussionNegative">отрицательна</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.6 Зондирование зуба:</label>
                                    <div class="tooth-diagnostics">
                                        <input type="text" value="A02.07.002" readonly class="code-input">
                                        <div class="radio-group">
                                            <input type="radio" id="probingPainless" name="probing">
                                            <label for="probingPainless">безболезненное</label>
                                            <input type="radio" id="probingPainful" name="probing">
                                            <label for="probingPainful">болезненное</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.7 Индексная оценка полости рта:</label>
                                    <div class="index-assessment">
                                        <div class="index-group">
                                            <h4>1. OHI - S:</h4>
                                            <input type="text" class="index-input" id="ohisIndex" placeholder="врач может вбить самостоятельно">
                                        </div>

                                        <div class="index-group">
                                            <h4>2. По Федорову – Володкиной:</h4>
                                            <input type="text" value="A12.07.003" readonly class="code-input">
                                            <div class="hygiene-levels">
                                                <div>
                                                    <input type="radio" id="hygieneLevel1" name="hygieneLevel">
                                                    <label for="hygieneLevel1">1,1 – 1,5 хороший уровень гигиены</label>
                                                </div>
                                                <div>
                                                    <input type="radio" id="hygieneLevel2" name="hygieneLevel">
                                                    <label for="hygieneLevel2">1,6 – 2,0 удовлетворительный</label>
                                                </div>
                                                <div>
                                                    <input type="radio" id="hygieneLevel3" name="hygieneLevel">
                                                    <label for="hygieneLevel3">2,1 – 2,5 неудовлетворительный</label>
                                                </div>
                                                <div>
                                                    <input type="radio" id="hygieneLevel4" name="hygieneLevel">
                                                    <label for="hygieneLevel4">2,6 – 3,4 плохой</label>
                                                </div>
                                                <div>
                                                    <input type="radio" id="hygieneLevel5" name="hygieneLevel">
                                                    <label for="hygieneLevel5">3,5 – 5,0 очень плохой</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.8 Индексная оценка кариозного процесса:</label>
                                    <div class="caries-assessment">
                                        <div class="index-group">
                                            <h4>КПУ: (формула)!!!</h4>
                                            <input type="text" class="index-input" id="kpuIndex" placeholder="врач может вбить самостоятельно">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.9 Результаты ЭОД:</label>
                                    <div class="eod-results">
                                        <input type="text" value="A05.07.001" readonly class="code-input">
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="eodResult" name="eodResult">
                                            <label for="eodResult">более 100 мкА</label>
                                        </div>
                                        <input type="text" class="full-width" id="eodNotes" placeholder="сделать возможным для редактирования">
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.10 ИРОПЗ:</label>
                                    <div class="iropz-assessment">
                                        <input type="text" value="0,3" class="index-input" id="iropzValue">
                                        <input type="text" class="full-width" id="iropzNotes" placeholder="сделать возможным для редактирования">
                                    </div>
                                </div>

                                <div class="form-subgroup">
                                    <label>6.11 Рентгенологическое исследование:</label>
                                    <div class="xray-examination">
                                        <h4>Описание и интерпретация рентгенографических изображений</h4>
                                        <input type="text" value="A06.30.002" readonly class="code-input">
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="xrayFinding" name="xrayFinding">
                                            <label for="xrayFinding">изменение в периапикальных тканях в виде очага разряжения костной ткани с четкими границами</label>
                                        </div>
                                        <input type="text" class="full-width" id="xrayNotes" placeholder="врач может вбить самостоятельно">

                                        <div class="xray-types">
                                            <div class="xray-type">
                                                <h4>Радиовизиография челюстно – лицевой области</h4>
                                                <input type="text" value="A06.07.010" readonly class="code-input">
                                                <input type="text" class="full-width" placeholder="врач может вбить самостоятельно">
                                            </div>

                                            <div class="xray-type">
                                                <h4>Прицельная – внутриротовая контактная рентгено графия</h4>
                                                <input type="text" value="A06.07.003" readonly class="code-input">
                                                <input type="text" class="full-width" placeholder="врач может вбить самостоятельно">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="submit-btn" onclick="saveDiagnosis()">Сохранить диагноз</button>
                            <button type="button" class="reset-btn" onclick="closeDiagnosisModal()">Отмена</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Добавляем секцию лечения -->
            <div class="treatment-section">
                <h3>7. Лечение</h3>
                
                <!-- Первичный прием -->
                <div class="treatment-visit primary">
                    <div class="visit-header">
                        <div class="date-field">
                            <label>ДАТА:</label>
                            <input type="date" class="date-input">
                        </div>
                        <div class="visit-type">ПРИЕМ ПЕРВИЧНЫЙ: B01.065.007</div>
                    </div>

                    <!-- Анестезия -->
                    <div class="treatment-block anesthesia">
                        <h4>Анестезия:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Аппликационная анестезия</span>
                                <input type="text" value="B01.003.004.004" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Проводниковая анестезия</span>
                                <input type="text" value="B01.003.004.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Инфильтрационная анестезия</span>
                                <input type="text" value="B01.003.004.005" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Лечение периодонтита -->
                    <div class="treatment-block periodontitis">
                        <h4>Лечение периодонтита:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Полная изоляция</span>
                                <input type="text" value="A16.01.003.001?" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Вскрытие полости зуба</span>
                                <input type="text" value="A16.07.092" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Раскрытие полости зуба с медикаментозной обработкой</span>
                                <input type="text" value="A16.07.002.019" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Удаление содержимого корневого канала</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Прохождение канала или его расширение</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Инструментальная и медикаментозная обработка -->
                    <div class="treatment-block instrumental">
                        <h4>Инструментальная и медикаментозная обработка:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Антисептическая обработка</span>
                                <input type="text" value="A16.07.030.001" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>- хорошо проходимого корневого канала</span>
                                <input type="text" value="A16.07.030.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>- плохо проходимого корневого канала</span>
                                <input type="text" value="A16.07.030.003" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Временная пломба</span>
                                <input type="text" value="A16.07.002.009" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Гигиена -->
                    <div class="treatment-block hygiene">
                        <h4>Гигиена:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Профессиональная гигиена полости рта</span>
                                <input type="text" value="A16.07.055" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Обучение гигиене полости рта</span>
                                <input type="text" value="A13.31.007" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Контролируемая чистка зубов</span>
                                <input type="text" value="A14.07.004" readonly class="code-input">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Повторный прием -->
                <div class="treatment-visit secondary">
                    <div class="visit-header">
                        <div class="date-field">
                            <label>ДАТА:</label>
                            <input type="date" class="date-input">
                        </div>
                    </div>

                    <!-- Анестезия -->
                    <div class="treatment-block anesthesia">
                        <h4>Анестезия:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Аппликационная анестезия</span>
                                <input type="text" value="B01.003.004.004" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Проводниковая анестезия</span>
                                <input type="text" value="B01.003.004.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Без анестезии</span>
                                <input type="text" value="B01.003.004.005" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Периодонтит -->
                    <div class="treatment-block periodontitis">
                        <h4>Периодонтит:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Снятие временной пломбы</span>
                                <input type="text" value="A16.07.091" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Отсутствие пломбы (выпала)</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Эндодонтическое лечение корневых каналов -->
                    <div class="treatment-block endodontic">
                        <h4>Эндодонтическое лечение корневых каналов:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Раскрытие полости зуба</span>
                                <input type="text" value="A16.07.030" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Инструментальная и медикаментозная обработка:</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Антисептическая обработка -->
                    <div class="treatment-block antiseptic">
                        <h4>Антисептическая обработка:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>✓ хорошо проходимого корневого канала</span>
                                <input type="text" value="A16.07.030.001" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ плохо проходимого корневого канала</span>
                                <input type="text" value="A16.07.030.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Постоянное пломбирование корневого канала зуба пастой</span>
                                <input type="text" value="A16.07.008.001" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ пломбирование корневого канала зуба гуттаперчивыми штифтами</span>
                                <input type="text" value="A16.07.008.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>Наложение временной пломбы</span>
                                <input type="text" value="A16.07.002" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Восстановление зуба пломбой -->
                    <div class="treatment-block restoration">
                        <h4>Восстановление зуба пломбой:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>✓ Наложение цементной пломбы:</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс I,V,VI</span>
                                <input type="text" value="A16.07.002.001" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс II, III</span>
                                <input type="text" value="A16.07.002.003" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс IV</span>
                                <input type="text" value="A16.07.002.005" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ Химического отверждения пломбы:</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс I,V,VI</span>
                                <input type="text" value="A16.07.002.002" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс II, III</span>
                                <input type="text" value="A16.07.002.004" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс IV</span>
                                <input type="text" value="A16.07.002.006" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ Светоотверждаемая композитная пломба:</span>
                                <input type="text" value="" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс I,V,VI</span>
                                <input type="text" value="A16.07.002.010" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс II, III</span>
                                <input type="text" value="A16.07.002.011" readonly class="code-input">
                            </div>
                            <div class="procedure-item">
                                <span>✓ класс IV</span>
                                <input type="text" value="A16.07.002.012" readonly class="code-input">
                            </div>
                        </div>
                    </div>

                    <!-- Назначение лекарственной терапии -->
                    <div class="treatment-block medication">
                        <h4>Назначение лекарственной терапии при заболеваниях полости рта и зубов:</h4>
                        <div class="procedure-list">
                            <div class="procedure-item">
                                <span>Назначение лекарственной терапии</span>
                                <input type="text" value="A25.07.001" readonly class="code-input">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Добавляем секцию рекомендаций -->
            <div class="recommendations-section">
                <h3>8. Рекомендации: <input type="text" value="A25.07.001" readonly class="code-input"></h3>
                <div class="recommendations-content">
                    <div class="recommendations-block">
                        <h4>Требования к режиму труда, отдыха, лечения и реабилитации</h4>
                        <div class="recommendation-item">
                            <p>После проведенного лечения необходимо наблюдение за зубом в течение 2 лет. Рентгенологическое исследование следует проводить не ранее 3 месяцев и не позднее 1 года после пломбирования.</p>
                        </div>
                    </div>

                    <div class="recommendations-block">
                        <h4>Требования к уходу за пациентом и вспомогательным процедурам</h4>
                        <div class="recommendation-item">
                            <p>Специальных требований нет.</p>
                        </div>
                    </div>

                    <div class="recommendations-block">
                        <h4>Требования к диетическим назначениям и ограничениям</h4>
                        <div class="recommendation-item">
                            <p>Специальных требований нет.</p>
                        </div>
                    </div>

                    <div class="recommendations-block">
                        <h4>Дополнительная информация для пациента:</h4>
                        <div class="recommendation-item">
                            <ol>
                                <li>Зуб рекомендуется чистить зубной щеткой с пастой так же, как естественные зубы.</li>
                                <li>При чистке зубов после пломбирования можно использовать зубные нити (флоссы) после обучения их применению и по рекомендации врача-стоматолога.</li>
                                <li>При возникновении болезненности при жевании зубами следует прекратить пищевую нагрузку. Если болезненность не проходит в течение 3-4 дней, необходимо обратиться к врачу-стоматологу.</li>
                                <li>Если после пломбирования и окончания действия анестезии пломба мешает смыканию зубов, то необходимо в ближайшее время обратиться к лечащему врачу-стоматологу.</li>
                                <li>При пломбах из композиционных материалов не следует принимать пищу, содержащую естественные и искусственные красители (например: чернику, чай, кофе и т.д.), в течение первых 2-х суток после пломбирования зуба.</li>
                                <li>Возможно временное появление боли (повышенной чувствительности) в запломбированном зубе во время приема и пережевывании пищи. Если указанные симптомы не проходят в течение 1-2 недель, необходимо обратиться к лечащему стоматологу.</li>
                                <li>При появлении в зубе резкой боли, необходимо как можно быстрее обратиться к лечащему стоматологу.</li>
                                <li>Во избежание сколов пломбы и прилегающих к пломбе твердых тканей зуба не рекомендуется принимать и пережевывать очень жесткую пищу (например: орехи, сухари), откусывать от больших кусков (например: от цельного яблока).</li>
                                <li>Раз в полгода следует проходить профилактический осмотр у стоматолога.</li>
                            </ol>
                        </div>
                    </div>

                    <div class="next-visit">
                        <div class="next-visit-header">
                            <span>Следующий визит назначен:</span>
                            <input type="text" value="лечение закончено" readonly class="visit-status">
                        </div>
                    </div>

                    <div class="doctor-signature">
                        <div class="signature-line">
                            <span>Врач - стоматолог</span>
                            <div class="signature-field">
                                <span class="signature-placeholder">Ф.И.О</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="submit-btn">Сохранить</button>
                <button type="reset" class="reset-btn">Очистить</button>
            </div>
        </form>
    </div>

    <script>
        // Автоматическое перемещение фокуса в ОГРН боксах
        document.querySelectorAll('.ogrn-boxes input').forEach((input, index, inputs) => {
            input.addEventListener('input', function() {
                if (this.value && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });
        });

        // Форматирование телефона
        document.querySelector('input[type="tel"]').addEventListener('input', function(e) {
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);
            e.target.value = !x[2] ? x[1] : '+7 (' + x[2] + (x[3] ? ') ' + x[3] : '') + (x[4] ? '-' + x[4] : '');
        });

        // Обработка отправки формы
        document.getElementById('patientForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Форма успешно отправлена!');
        });

        // Функции для работы с модальным окном диагноза
        function openDiagnosisModal() {
            document.getElementById('diagnosisModal').style.display = 'block';
        }

        function closeDiagnosisModal() {
            document.getElementById('diagnosisModal').style.display = 'none';
        }

        // Закрытие модального окна при клике вне его
        window.onclick = function(event) {
            if (event.target == document.getElementById('diagnosisModal')) {
                closeDiagnosisModal();
            }
        }

        // Обработка изменения состояния лимфоузлов
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const group = this.name;
                const properties = document.getElementById(group + 'Properties');
                if (this.id.includes('Enlarged')) {
                    properties.style.display = 'flex';
                } else {
                    properties.style.display = 'none';
                }
            });
        });

        // Сохранение диагноза
        function saveDiagnosis() {
            const diagnosis = {
                mainDiagnosis: document.getElementById('mainDiagnosis').value,
                complaints: {
                    none: document.getElementById('noComplaints').checked,
                    text: document.getElementById('complaintText').value
                },
                anamnesis: {
                    firstAppearance: document.querySelector('.medium-input').value,
                    toothHistory: {
                        treated: document.getElementById('treatedTooth').checked,
                        notTreated: document.getElementById('notTreated').checked,
                        treatmentReason: document.querySelector('.treatment-reason').value
                    },
                    allergy: {
                        none: document.getElementById('noAllergy').checked,
                        present: document.getElementById('hasAllergy').checked
                    }
                },
                associatedDiseases: {
                    none: document.getElementById('noDiseases').checked,
                    tuberculosis: document.getElementById('tuberculosis').checked,
                    diabetes: document.getElementById('diabetes').checked,
                    hepatitisB: document.getElementById('hepatitisB').checked,
                    hepatitisC: document.getElementById('hepatitisC').checked,
                    hiv: document.getElementById('hiv').checked,
                    cancer: document.getElementById('cancer').checked,
                    mentalDisorders: document.getElementById('mentalDisorders').checked,
                    highBloodPressure: document.getElementById('highBloodPressure').checked
                },
                faceConfiguration: {
                    noPathology: document.getElementById('noPathology').checked,
                    symmetric: document.getElementById('symmetric').checked
                },
                lymphNodes: {
                    neck: {
                        enlarged: document.getElementById('neckEnlarged').checked,
                        properties: {
                            painful: document.getElementById('neckPainful').checked,
                            painless: document.getElementById('neckPainless').checked,
                            tissueConnected: document.getElementById('neckTissue').checked,
                            mobile: document.getElementById('neckMobile').checked
                        }
                    },
                    submandibular: {
                        enlarged: document.getElementById('submandibularEnlarged').checked,
                        properties: {
                            painful: document.getElementById('submandibularPainful').checked,
                            painless: document.getElementById('submandibularPainless').checked,
                            tissueConnected: document.getElementById('submandibularTissue').checked,
                            mobile: document.getElementById('submandibularMobile').checked
                        }
                    }
                },
                skin: {
                    normal: document.getElementById('skinNormal').checked,
                    pathological: document.getElementById('skinPathological').checked
                },
                tmj: {
                    condition: {
                        normal: document.getElementById('tmjNormal').checked,
                        pathological: document.getElementById('tmjPathological').checked
                    },
                    pain: {
                        right: document.getElementById('rightPainYes').checked,
                        left: document.getElementById('leftPainYes').checked,
                        both: document.getElementById('bothPainYes').checked
                    },
                    clicking: {
                        right: document.getElementById('rightClickYes').checked,
                        left: document.getElementById('leftClickYes').checked,
                        both: document.getElementById('bothClickYes').checked
                    },
                    crunching: {
                        right: document.getElementById('rightCrunchYes').checked,
                        left: document.getElementById('leftCrunchYes').checked,
                        both: document.getElementById('bothCrunchYes').checked
                    }
                },
                trajectory: {
                    changed: document.getElementById('trajectoryChanged').checked,
                    normal: document.getElementById('trajectoryNormal').checked
                },
                musclePalpation: {
                    right: {
                        painless: document.getElementById('rightPainless').checked,
                        mildPain: document.getElementById('rightMildPain').checked,
                        painful: document.getElementById('rightPainful').checked
                    },
                    left: {
                        painless: document.getElementById('leftPainless').checked,
                        mildPain: document.getElementById('leftMildPain').checked,
                        painful: document.getElementById('leftPainful').checked
                    }
                },
                temporalPalpation: {
                    right: {
                        painless: document.getElementById('rightTemporalPainless').checked,
                        mildPain: document.getElementById('rightTemporalMildPain').checked,
                        painful: document.getElementById('rightTemporalPainful').checked
                    },
                    left: {
                        painless: document.getElementById('leftTemporalPainless').checked,
                        mildPain: document.getElementById('leftTemporalMildPain').checked,
                        painful: document.getElementById('leftTemporalPainful').checked
                    }
                },
                oralCavity: {
                    mucosa: {
                        normal: document.getElementById('mucosaNormal').checked,
                        other: document.getElementById('mucosaOther').value
                    },
                    dentalFormula: getDentalFormula(),
                    bite: {
                        orthognathic: document.getElementById('orthognathic').checked,
                        straight: document.getElementById('straight').checked,
                        deep: document.getElementById('deep').checked,
                        open: document.getElementById('open').checked,
                        crossbite: document.getElementById('crossbite').checked
                    },
                    thermoDiagnostics: {
                        negative: document.getElementById('thermoNegative').checked
                    },
                    percussion: {
                        positive: document.getElementById('percussionPositive').checked,
                        negative: document.getElementById('percussionNegative').checked
                    },
                    probing: {
                        painless: document.getElementById('probingPainless').checked,
                        painful: document.getElementById('probingPainful').checked
                    },
                    indexAssessment: {
                        ohisIndex: document.getElementById('ohisIndex').value,
                        hygieneLevel: document.querySelector('input[name="hygieneLevel"]:checked').value,
                        kpuIndex: document.getElementById('kpuIndex').value
                    },
                    eodResults: {
                        result: document.getElementById('eodResult').checked,
                        notes: document.getElementById('eodNotes').value
                    },
                    iropzAssessment: {
                        value: document.getElementById('iropzValue').value,
                        notes: document.getElementById('iropzNotes').value
                    },
                    xrayExamination: {
                        finding: document.getElementById('xrayFinding').checked,
                        notes: document.getElementById('xrayNotes').value,
                        types: {
                            radioViz: {
                                code: document.getElementById('radioVizCode').value,
                                description: document.getElementById('radioVizDescription').value
                            },
                            intraoral: {
                                code: document.getElementById('intraoralCode').value,
                                description: document.getElementById('intraoralDescription').value
                            }
                        }
                    }
                }
            };

            console.log('Сохраненный диагноз:', diagnosis);
            closeDiagnosisModal();
            alert('Диагноз успешно сохранен');
        }

        // Обработка поля жалоб
        document.getElementById('noComplaints').addEventListener('change', function() {
            const complaintText = document.getElementById('complaintText');
            complaintText.disabled = this.checked;
            if (this.checked) {
                complaintText.value = '';
            }
        });

        // Обработка сопутствующих заболеваний
        document.getElementById('noDiseases').addEventListener('change', function() {
            const diseaseCheckboxes = document.querySelectorAll('.diseases-group input[type="checkbox"]:not(#noDiseases)');
            diseaseCheckboxes.forEach(checkbox => {
                checkbox.disabled = this.checked;
                if (this.checked) {
                    checkbox.checked = false;
                }
            });
        });

        // Обработка зубной формулы
        document.querySelectorAll('.tooth').forEach(tooth => {
            tooth.addEventListener('click', function() {
                // Если зуб уже выбран, снимаем выделение
                if (this.classList.contains('selected')) {
                    this.classList.remove('selected');
                } else {
                    // Иначе добавляем выделение
                    this.classList.add('selected');
                }
            });
        });

        // Функция для получения состояния зубной формулы
        function getDentalFormula() {
            const selectedTeeth = {};
            document.querySelectorAll('.tooth.selected').forEach(tooth => {
                selectedTeeth[tooth.dataset.tooth] = true;
            });
            return selectedTeeth;
        }
    </script>
</body>
</html> 